<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>ElasticityTest - Validating Elasticity in Reactive Web Applications</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet" media="screen">
    <link href="css/style.css" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Roboto+Mono' rel='stylesheet' type='text/css'>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
   <script type="text/javascript">
     google.charts.load('current', {'packages':['line', 'bar', 'corechart']});
     google.charts.setOnLoadCallback(drawChart);

     function drawChart() {
       var data2 = new google.visualization.DataTable();
       data2.addColumn('number', 'Time (minutes)');
       data2.addColumn('number', 'Average Response Time (Milliseconds)');
       data2.addColumn('number', "ServerInstances")

       data2.addRows([
         [1,  37.8, 1],
         [2,  30.9, 1],
         [3,  25.4, 1],
         [4,  11.7, 1],
         [5,  11.9, 1],
         [6,   8.8, 1],
         [7,   7.6, 3],
         [8,  12.3, 3],
         [9,  16.9, 3],
         [10, 12.8, 3],
         [11,  5.3, 2],
         [12,  6.6, 2],
         [13,  4.8, 2],
         [14,  4.2, 2]
       ]);

       var options2 = {
         height: 500,
         series: {
           0: {axis : 'ResponseTime'},
           1: {axis : 'ServerInstances', targetAxisIndex: 4}
         },
         axes : {
           y: {
             ResponseTime : {label : 'Response Time (Milliseconds)'},
             ServerInstances : {label: 'Server Instances'}
           }
         }
       };

       var chart2 = new google.charts.Line(document.getElementById('linechart_material'));

       chart2.draw(data2, options2);

       var dataBar = google.visualization.arrayToDataTable([
         ['URI', 'OK', 'BadRequest', 'NotFound'],
          ['/load?cpu=30', 1000, 400, 200],
          ['/load?cpu=50', 1170, 460, 250],
          ['/load?cpu=70', 660, 1120, 300]
       ])

       var optionsBar = {
          bars: 'horizontal', // Required for Material Bar Charts.
          colors: ['#00CD00', '#CC1100', '#F0A804']
        };

        var barChart = new google.charts.Bar(document.getElementById('barchart'));

        barChart.draw(dataBar, optionsBar)

        var dataPie = google.visualization.arrayToDataTable([
          ['StatusCode', 'NumberOfResponses'],
          ['200 OK',     11],
          ['400 BadRequest',      2],
          ['404 Not Found',  2],
          ['500 Internal Server Error', 2]
        ]);

        var optionsPie = {
        };

        var chartPie = new google.visualization.PieChart(document.getElementById('piechart'));

        chartPie.draw(dataPie, optionsPie);

        var dataInterval = new google.visualization.DataTable();
        dataInterval.addColumn('number', 'x');
        dataInterval.addColumn('number', 'values');
        dataInterval.addColumn({id:'i0', type:'number', role:'interval'});
        dataInterval.addColumn({id:'i1', type:'number', role:'interval'});
        dataInterval.addColumn({id:'i2', type:'number', role:'interval'});
        dataInterval.addColumn({id:'i2', type:'number', role:'interval'});
        dataInterval.addColumn({id:'i2', type:'number', role:'interval'});
        dataInterval.addColumn({id:'i2', type:'number', role:'interval'});

        dataInterval.addRows([
            [1, 100, 90, 110, 85, 96, 104, 120],
            [2, 120, 95, 130, 90, 113, 124, 140],
            [3, 130, 105, 140, 100, 117, 133, 139],
            [4, 90, 85, 95, 85, 88, 92, 95],
            [5, 70, 74, 63, 67, 69, 70, 72],
            [6, 30, 39, 22, 21, 28, 34, 40],
            [7, 80, 77, 83, 70, 77, 85, 90],
            [8, 100, 90, 110, 85, 95, 102, 110]]);

          var options_bars = {
            curveType: 'function',
            series: [{'color': '#D9544C'}],
            intervals: { 'style':'points', pointSize: 2 },
            legend: 'none'
          };

        var chart_lines = new google.visualization.LineChart(document.getElementById('chart_lines'));
        chart_lines.draw(dataInterval, options_bars);
     }
   </script>
  </head>
  <body>

    <div class="">
      <!-- Fixed navbar -->
      <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">ElasticityTest</a>
          </div>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="">History</a></li>
              <li><a href="">Settings</a></li>
              <li><a href="./">About</a></li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </nav>

      <!-- Add new Elasticity Test -->
      <div class="row">
        <div class="container">
          <div class="panel panel-default">
            <div class="panel-heading">
              <h3 class="panel-title">Create an Elasticity Test</h3>
            </div>
            <div class="panel-body">
              <div class="form-group">
                <textarea class="form-control" rows="10" id="ElasticityTest"></textarea>
              </div>
              <button class="btn btn-default pull-right"  type="button">Run</button>
            </div>
          </div>
        </div>
      </div>

      <!-- History -->
      <div class="row">
        <div class="container">
          <div class="panel panel-default">
            <div class="panel-heading">
              <h3 class="panel-title">History</h3>
            </div>
            <div class="panel-body" style="padding: 0px;">
              <table class="table table-striped">
                <thead>
                  <tr>
                    <th>Test Name</th>
                    <th>URI Count</th>
                    <th>Date Added</th>
                    <th>Last Run</th>
                    <th>Status</th>
                    <th>Load</th>
                    <th>Results</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>FrontEnd Test</td>
                    <td>23</td>
                    <td>23-01-2992 15:41</td>
                    <td>23-01-2992 15:41</td>
                    <td><span style="color:#006dcc;">Running <span class="glyphicon glyphicon-play-circle"></span></span></td>
                    <td><span class="glyphicon glyphicon-upload"></span></td>
                    <td><span class="glyphicon glyphicon-stats"></span></td>
                  </tr>
                  <tr>
                    <td>FrontEnd Test</td>
                    <td>23</td>
                    <td>23-01-2992 15:41</td>
                    <td>23-01-2992 15:41</td>
                    <td><span style="color:green">Successful</span></td>
                    <td><span class="glyphicon glyphicon-upload"></span></td>
                    <td><span class="glyphicon glyphicon-stats"></span></td>
                  </tr>
                  <tr>
                    <td>BackEnd Test</td>
                    <td>11</td>
                    <td>23-01-2992 15:41</td>
                    <td>23-01-2992 15:41</td>
                    <td><span style="color:red">Error</span></td>
                    <td><span class="glyphicon glyphicon-upload"></span></td>
                    <td><span class="glyphicon glyphicon-stats"></span></td>
                  </tr>
                  <tr>
                    <td>First Test</td>
                    <td>1</td>
                    <td>23-01-2992 15:41</td>
                    <td>23-01-2992 15:41</td>
                    <td><span style="color:green">Successful</span></td>
                    <td><span class="glyphicon glyphicon-upload"></span></td>
                    <td><span class="glyphicon glyphicon-stats"></span></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

      <!-- Test Info -->
      <div class="row">
        <div class="container">
          <div class="panel panel-default">
            <div class="panel-heading">
              <h3 class="panel-title">Elasticity Test Info</h3>
            </div>
            <div class="panel-body">
              Info here
            </div>
          </div>
        </div>
      </div>

      <!-- Loading bar -->
      <div class="row">
        <div class="container" style="width: 50%;">
          <h2 style="text-align: center;">Time left: 22:21</h2>
          <div class="progress">
            <div class="progress-bar progress-bar-success progress-bar-striped active" role="progressbar"
            aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width:40%">
            </div>
          </div>
        </div>
      </div>

      <!-- Results -->
      <div class="row">
        <div class="container">
          <div class="col-xs-12">
            <div class="panel panel-default">
              <div class="panel-heading">
                <h3 class="panel-title">Average Response Times</h3>
              </div>
              <div class="panel-body">

                  <center><h4>Compared with the number of server instances</h4></center>
                  <div id="linechart_material" style="display: block; margin: 0 auto;"></div>

              </div>
            </div>
          </div>
        </div>
      </div>

        <div class="row">
          <div class="container">
            <div class="col-xs-7">
              <div class="panel panel-default">
                <div class="panel-heading">
                <h3 class="panel-title">Http Results Status Codes</h3>
                <!-- <h4>Overview of the http results for each URI</h4> -->
                </div>
                <div class="panel-body">
                  <div id="barchart" style="display: block; margin: 0 auto;"></div>
                </div>
              </div>
            </div>


            <div class="col-xs-5">
              <div class="panel panel-default">
                <div class="panel-heading">
                <h3 class="panel-title">Overview All responses</h3>
                </div>
                <div class="panel-body">

                    <div id="piechart" style="display: block; margin: 0 auto;"></div>

                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="container">
          <div class="col-xs-12">
            <div class="panel panel-default">
              <div class="panel-heading">
                <h3 class="panel-title">Average Response Times Per URI</h3>
              </div>
              <div class="panel-body">
                <div id="chart_lines" style="display: block; margin: 0 auto;"></div>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
  </body>
</html>
